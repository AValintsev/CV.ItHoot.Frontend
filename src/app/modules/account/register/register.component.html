<cv-loader *ngIf="loading$|async"></cv-loader>
<div class="main-block">
  <div class="inner">
    <mat-card>
      <mat-card-title>Register</mat-card-title>
      <div class="google-btn__wrapper" id="buttonDiv"></div>
      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <mat-form-field>
            <input matInput type="text" placeholder="Email" formControlName="email">
          <mat-error *ngIf="registerForm?.get('email')?.errors?.required&&registerForm?.get('email')?.touched">Enter email
          </mat-error>
          <mat-error *ngIf="registerForm?.get('email')?.errors?.email&&registerForm?.get('email')?.touched">Enter correct
            email</mat-error>
          </mat-form-field>
          <mat-form-field>
            <input matInput [type]="type"  placeholder="Password" formControlName="password">
            <mat-icon *ngIf="type==='password'" matSuffix class="eye" (click)="changeVisiblePassword($event)"
            >visibility
          </mat-icon>
            <mat-icon *ngIf="type==='text'" matSuffix class="eye" (click)="changeVisiblePassword($event)"
            >visibility_off
          </mat-icon>
          <mat-error *ngIf="registerForm?.get('password')?.errors?.required&&registerForm?.get('password')?.touched">Enter
            password</mat-error>
          <mat-error *ngIf="registerForm?.get('password')?.errors?.minlength&&registerForm?.get('password')?.touched">Enter a
            password of at least {{registerForm?.get('password')?.errors?.minlength?.requiredLength}} characters
          </mat-error>
          <mat-error *ngIf="registerForm?.get('password')?.errors?.absentDigit && registerForm?.get('password')?.touched&&registerForm?.get('password')?.value.length>=6">Password must have at least one digit</mat-error>
          </mat-form-field>
          <div class="button">
            <button [disabled]="registerForm.invalid" type="submit" mat-raised-button matTooltip="Register">Register</button>
          </div>
          <div class="or">
            <span></span>
            <span class="or-text">or</span>
            <span></span>
          </div>
          <div class="link-wrapper">
            <a class="link" routerLink="/account/login" routerLinkActive="active" matTooltip="Go to login page">Already have account?</a>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
